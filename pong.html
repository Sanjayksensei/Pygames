<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Retro Pong</title>
    <style>
        body {
            background-color: #222;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            color: white;
            font-family: 'Courier New', Courier, monospace;
        }
        canvas {
            border: 4px solid #fff;
            box-shadow: 0 0 20px rgba(255,255,255,0.2);
        }
    </style>
</head>
<body>

    <canvas id="pongCanvas" width="800" height="400"></canvas>

<script>
    const canvas = document.getElementById("pongCanvas");
    const ctx = canvas.getContext("2d");

    
    const ball = { x: canvas.width/2, y: canvas.height/2, radius: 10, speedX: 5, speedY: 5, color: "#fff" };
    const user = { x: 0, y: canvas.height/2 - 50, width: 10, height: 100, score: 0, color: "#fff" };
    const com = { x: canvas.width - 10, y: canvas.height/2 - 50, width: 10, height: 100, score: 0, color: "#fff" };
    const net = { x: canvas.width/2 - 1, y: 0, width: 2, height: 10, color: "#fff" };

    
    function drawRect(x, y, w, h, color) {
        ctx.fillStyle = color;
        ctx.fillRect(x, y, w, h);
    }

    function drawCircle(x, y, r, color) {
        ctx.fillStyle = color;
        ctx.beginPath();
        ctx.arc(x, y, r, 0, Math.PI*2, false);
        ctx.closePath();
        ctx.fill();
    }

    function drawNet() {
        for(let i = 0; i <= canvas.height; i+=15) {
            drawRect(net.x, net.y + i, net.width, net.height, net.color);
        }
    }

    function drawText(text, x, y) {
        ctx.fillStyle = "#fff";
        ctx.font = "45px Arial";
        ctx.fillText(text, x, y);
    }

    
    canvas.addEventListener("mousemove", (evt) => {
        let rect = canvas.getBoundingClientRect();
        user.y = evt.clientY - rect.top - user.height/2;
    });

    
    function collision(b, p) {
        p.top = p.y;
        p.bottom = p.y + p.height;
        p.left = p.x;
        p.right = p.x + p.width;

        b.top = b.y - b.radius;
        b.bottom = b.y + b.radius;
        b.left = b.x - b.radius;
        b.right = b.x + b.radius;

        return b.right > p.left && b.bottom > p.top && b.left < p.right && b.top < p.bottom;
    }

    function resetBall() {
        ball.x = canvas.width/2;
        ball.y = canvas.height/2;
        ball.speedX = -ball.speedX;
        ball.speedY = 5;
    }

    
    function update() {
        ball.x += ball.speedX;
        ball.y += ball.speedY;

        
        com.y += (ball.y - (com.y + com.height/2)) * 0.1;

        
        if(ball.y + ball.radius > canvas.height || ball.y - ball.radius < 0) {
            ball.speedY = -ball.speedY;
        }

        
        let player = (ball.x < canvas.width/2) ? user : com;

        if(collision(ball, player)) {
            
            let collidePoint = (ball.y - (player.y + player.height/2));
            collidePoint = collidePoint / (player.height/2);

            
            let angleRad = (Math.PI/4) * collidePoint;

            
            let direction = (ball.x < canvas.width/2) ? 1 : -1;
            ball.speedX = direction * Math.cos(angleRad) * 7;
            ball.speedY = Math.sin(angleRad) * 7;
        }

        
        if(ball.x - ball.radius < 0) {
            com.score++;
            resetBall();
        } else if(ball.x + ball.radius > canvas.width) {
            user.score++;
            resetBall();
        }
    }

    function render() {
        drawRect(0, 0, canvas.width, canvas.height, "#000"); 
        drawNet();
        drawText(user.score, canvas.width/4, canvas.height/5);
        drawText(com.score, 3*canvas.width/4, canvas.height/5);
        drawRect(user.x, user.y, user.width, user.height, user.color);
        drawRect(com.x, com.y, com.width, com.height, com.color);
        drawCircle(ball.x, ball.y, ball.radius, ball.color);
    }

    function game() {
        update();
        render();
    }

    setInterval(game, 1000/60); 
</script>
</body>
</html>